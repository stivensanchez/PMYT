<%- model_class = Modulo -%>
  <div class="well">
    <h1><center>Listado  <small>Modulos</small></center></h1>
</div>
    <div class="well"> 
    <%= link_to 'Nuevo modulo',
            new_modulo_path,
            class: "btn btn-success btn-lg active" %>
   </div>
   <!-- Buscador -->
  <div class="tbusca"> 
   <%= form_tag modulos_path, :method => 'get' do %>
     <% content_tag :label do %>
        <div class="form-group">
          Buscador:
         <%= text_field_tag :search, params[:search] %>
         <%= submit_tag "Buscar", class: "btn btn-default"%>
        </div> 
     <% end %>
  <% end %>
  </div>

   <!-- Link de generar xls (excel) -->
   <div class="linkex">
      <strong class="txt-success"><a><%= link_to "Descargar tabla en ", modulos_path(format: "xls") %></a></strong>
      <%= link_to image_tag("excel.png", :size => "20x20"), modulos_path(format: "xls"), class: 'btn btn-default' %>
   </div>
<table class="table table-bordered table-striped table-hover table-condensed">
  <thead>
    <br>
    <tr>
      <th><%= model_class.human_attribute_name(:nombre) %></th>
      <th><%= model_class.human_attribute_name(:descripcion) %></th>
      <th><%= model_class.human_attribute_name(:Maquinas) %></th>
      <th><%= model_class.human_attribute_name(:Operaciones) %></th>
      <th><%= model_class.human_attribute_name(:Instructores) %></th>
      <th><%= model_class.human_attribute_name(:Grupos) %></th>
       <th><%= model_class.human_attribute_name(:Opciones) %></th>
  </thead>
  <tbody>
    <% @modulos.each do |modulo| %>
      <tr>
        <td><%= modulo.nombre %></td>
        <td><%= modulo.descripcion %></td>
        <td><%= link_to 'Maquinas(' + modulo.maquinas.count.to_s+ ')', modulo_maquinas_path(modulo), :class => 'btn btn-default btn-xs btn-lg active' %></td>
        <td><%= link_to 'Operaciones(' + modulo.operations.count.to_s+ ')', modulo_operations_path(modulo), :class => 'btn btn-default btn-xs btn-lg active' %></td>
        <td><%= link_to 'Instructores(' + modulo.instructors.count.to_s+ ')', modulo_instructors_path(modulo), :class => 'btn btn-default btn-xs btn-lg active' %></td>
        <td><%= link_to 'Grupos(' + modulo.groups.count.to_s+ ')',
              modulo_groups_path(modulo),:class => 'btn btn-default btn-xs btn-lg active' %>
        <td><center> 
        <div class="btn-group">
            <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
            ï¸¾</a>
            <ul class="dropdown-menu">
              <li> <%= link_to '<i class="fa fa-wrench txt-primary"></i><span> Editar</span>'.html_safe, edit_modulo_path(modulo) %></li>
              <li> <%= link_to '<i class="fa fa-times txt-danger"></i><span> Eliminar</span>'.html_safe, modulo, method: :delete, data: { confirm: 'Estas segur@?' },remote: true %></li>
            </ul>
        </div>
        </center></td>
      </tr>
    <% end %>
  </tbody>
</table>
<!-- Paginacion -->
<nav>
  <ul class="pager">
    <%= will_paginate @modulos, :previous_label => '&laquo; Anterior', :next_label => 'Siguiente &raquo;' %>
  </ul>
</nav>
<br>
<span class="label label-warning gran">Modulos Registrados: <%= @modulos.count %></span>



